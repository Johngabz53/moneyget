(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{53251:function(e,t){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0!==(r=(function(){return o}).apply(t,[]))&&(e.exports=r)}()},17029:function(e,t,r){t.pbkdf2=r(73620),t.pbkdf2Sync=r(76203)},73620:function(e,t,r){var n,o=r(64869),i=r(70964).Buffer,a=r(56201),s=r(91090),l=r(76203),c=r(712),u=r.g.crypto&&r.g.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];function h(e,t,r,n,o){return u.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return u.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:o}},e,n<<3)}).then(function(e){return i.from(e)})}e.exports=function(e,t,m,f,g,b){"function"==typeof g&&(b=g,g=void 0);var x=d[(g=g||"sha1").toLowerCase()];if(!x||"function"!=typeof r.g.Promise)return o.nextTick(function(){var r;try{r=l(e,t,m,f,g)}catch(e){return b(e)}b(null,r)});if(a(m,f),e=c(e,s,"Password"),t=c(t,s,"Salt"),"function"!=typeof b)throw Error("No callback provided to pbkdf2");!function(e,t){e.then(function(e){o.nextTick(function(){t(null,e)})},function(e){o.nextTick(function(){t(e)})})}((function(e){if(r.g.process&&!r.g.process.browser||!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==p[e])return p[e];var t=h(n=n||i.alloc(8),n,10,128,e).then(function(){return!0}).catch(function(){return!1});return p[e]=t,t})(x).then(function(r){return r?h(e,t,m,f,x):l(e,t,m,f,g)}),b)}},91090:function(e){e.exports="utf-8"},56201:function(e){e.exports=function(e,t){if("number"!=typeof e)throw TypeError("Iterations not a number");if(e<0)throw TypeError("Bad iterations");if("number"!=typeof t)throw TypeError("Key length not a number");if(t<0||t>1073741823||t!=t)throw TypeError("Bad key length")}},76203:function(e,t,r){var n=r(55270),o=r(29722),i=r(30441),a=r(70964).Buffer,s=r(56201),l=r(91090),c=r(712),u=a.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(e,t,r){var s="rmd160"===e||"ripemd160"===e?function(e){return new o().update(e).digest()}:"md5"===e?n:function(t){return i(e).update(t).digest()},l="sha512"===e||"sha384"===e?128:64;t.length>l?t=s(t):t.length<l&&(t=a.concat([t,u],l));for(var c=a.allocUnsafe(l+d[e]),p=a.allocUnsafe(l+d[e]),h=0;h<l;h++)c[h]=54^t[h],p[h]=92^t[h];var m=a.allocUnsafe(l+r+4);c.copy(m,0,0,l),this.ipad1=m,this.ipad2=c,this.opad=p,this.alg=e,this.blocksize=l,this.hash=s,this.size=d[e]}p.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,o){s(r,n),e=c(e,l,"Password"),t=c(t,l,"Salt"),o=o||"sha1";var i=new p(o,e,t.length),u=a.allocUnsafe(n),h=a.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var m=0,f=d[o],g=Math.ceil(n/f),b=1;b<=g;b++){h.writeUInt32BE(b,t.length);for(var x=i.run(h,i.ipad1),y=x,v=1;v<r;v++){y=i.run(y,i.ipad2);for(var w=0;w<f;w++)x[w]^=y[w]}x.copy(u,m),m+=f}return u}},712:function(e,t,r){var n=r(70964).Buffer;e.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},11806:function(e,t,r){"use strict";r.r(t);var n=r(65396),o=r(71048),i=r(27730),a={visible:function(e){return{opacity:1,transition:{delay:.1*e},y:0}},hidden:{opacity:0,y:50}},s=[{author:"Paul Graham",message:"I am very intrigued by Bitcoin. It has all the signs. Paradigm shift, hackers love it, yet it is described as a toy. Just like microcomputers."},{author:"Rick Falkvinge",message:"Bitcoin will do to banks what email did to the postal industry"},{author:"Eric Schmidt",message:"Bitcoin is a remarkable cryptographic achievement. The ability to create something which is not duplicable in the digital world has enormous value. Lots of people will build businesses on top of that."},{author:"Jack Dorsey",message:"The world ultimately will have a single currency. The internet will have a single currency. I personally believe that it will be Bitcoin."},{author:"Max Keiser",message:"Bitcoin is the currency of resistance."},{author:"Paul Buchheit",message:"Bitcoin may be the TCP/IP of money."},{author:"Charlie Shrem",message:"Bitcoin enables certain uses that are very unique. I think it offers possibilities that no other currency allows."},{author:"Edmund C. Moy",message:"Bitcoin, and the ideas behind it, will be a disrupter to the traditional notions of currency. In the end, currency will be better for it."},{author:"Andreas Antonopoulos",message:"Bitcoin is the currency of the people, by the people, for the people."},{author:"Vincent C. M\xfcller",message:"The revolution introduced by Bitcoin is of the same magnitude as the creation of the Internet."},{author:"Andreas Antonopoulos",message:"There are a billion people, right now, with access to the internet and feature phones who could use bitcoin as an international wire-transfer service."},{author:"Andreas Antonopoulos",message:"As the adage of the entire internet once went, “I just replaced your entire industry with 100 lines of Python code,” that's exactly what we're doing with bitcoin."},{author:"Satoshi Nakamoto",message:"If you don't believe me or don't get it, I don't have time to try to convince you, sorry."},{author:"Hal Finney",message:"The computer can be used as a tool to liberate and protect people, rather than to control them."},{author:"Erik Voorhees",message:"Economists and journalists often get caught up in this question: Why does Bitcoin have value? And the answer is very easy. Because it is useful and scarce."},{author:"Hal Finney",message:"I see Bitcoin as ultimately becoming a reserve currency for banks, playing much the same role as gold did in the early days of banking. Banks could issue digital cash with greater anonymity and lighter weight, more efficient transactions."}];t.default=function(){var e=Math.floor(Math.random()*s.length),t=(0,o.parseCookies)(null,{path:"/",domain:".localcoinswap.com"});t.quoteIndex?e=Number(t.quoteIndex):(0,o.setCookie)({},"quoteIndex",e.toString(),{maxAge:300,path:"/"});var r=s[e];return(0,i.jsx)("section",{children:(0,i.jsxs)(n.ww.div,{custom:0,initial:!1,animate:"visible",variants:a,className:"flex w-full",children:[(0,i.jsx)("div",{className:"w-1/6",children:(0,i.jsx)("img",{className:"w-16",src:"/images/common/top-quotation.svg",alt:"icon quotation"})}),(0,i.jsxs)("div",{className:"w-5/6 ml-6 mt-6",children:[(0,i.jsx)("p",{className:"text-base text-bone-700 dark:text-bone-500 mt-4",children:r.message}),(0,i.jsx)("hr",{className:"above-author bg-bone-200 dark:bg-bone-800 mt-4"}),(0,i.jsx)("p",{className:"text-base text-bone-800 dark:text-bone-300 mt-4",children:r.author})]})]})})}},86383:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return W},default:function(){return R}});var n=r(20484),o=r(67996),i=r(540),a=r(24614),s=r(67349),l=r(57251),c=r(89927),u=r.n(c),d=r(30812),p=r(49866),h=r(56174),m=r(78825),f=r(66542),g=r(25689),b=r(45973),x=r(65396),y=r(11806),v=r(27730),w={visible:{opacity:1,transition:{delay:.2},y:0},hidden:{opacity:0,y:50}},j=function(){var e=(0,o.Z)("unauth-common").t;return(0,v.jsx)("div",{className:"flex justify-between h-full items-start px-4 bg-backgrounds-200 dark:bg-ocean-900 md:px-8 pt-4 md:pt-20",children:(0,v.jsxs)("div",{className:"flex items-start container max-w-screen-lg mx-auto bg-white dark:bg-ocean-800 rounded-lg py-8 lg:py-16",children:[(0,v.jsx)("div",{className:"hidden lg:block w-full lg:w-1/2 pl-16 pr-8",children:(0,v.jsx)(y.default,{})}),(0,v.jsxs)("div",{className:"w-full lg:w-1/2 px-4 lg:pr-16 lg:pl-8",children:[(0,v.jsx)("h1",{className:"text-bone-900 dark:text-bone-200 text-2xl lg:text-3xl font-600 leading-tight pb-4",children:e("performingSecureLogin")}),(0,v.jsxs)(x.ww.div,{variants:w,initial:"hidden",animate:"visible",className:"py-4",children:[(0,v.jsx)("div",{className:"text-forest-700 dark:text-white rounded-lg bg-forest-300 dark:bg-forest-700 px-4 text-base font-600 py-2 border-l-4 border-forest mb-2",children:e("youWillBeRedirectedInaMoment")}),(0,v.jsx)("div",{className:"text-center mt-6 text-bone-500",children:(0,v.jsx)("i",{className:"lcs-icon icon-spin4 animate-spin mr-0 text-4xl",children:""})}),(0,v.jsx)("div",{className:"text-bone-800 dark:text-bone-300 text-md mt-4",children:e("performingBrowserMagicToLogin")})]})]})]})})},k=r(53251),O=r.n(k),N=r(65240),P=r.n(N),S=r(25573);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var B=P()(function(){return Promise.resolve().then(r.bind(r,11806))},{ssr:!1,loadableGenerated:{webpack:function(){return[11806]}}}),C={visible:{opacity:1,transition:{delay:.1},y:0},hidden:{opacity:0,y:50}},D=function(e){var t,r,n,i=(0,o.Z)("unauth-common").t,a=(0,S.cI)(),s=a.register,l=a.handleSubmit,c=a.formState.errors,u=O()({"btn btn-blue text-lg font-700 py-2 px-10 mt-4 w-full":!0,"opacity-50 cursor-not-allowed":e.loading}),d=(null===(t=e.errors.non_field_errors)||void 0===t?void 0:null===(r=t[0])||void 0===r?void 0:r.code)=="otp_required";return(0,v.jsx)("div",{className:"flex justify-between h-full items-start px-4 bg-backgrounds-200 dark:bg-ocean-900 md:px-8 pt-4 md:pt-20",children:(0,v.jsxs)("div",{className:"flex items-start container max-w-screen-lg mx-auto bg-white dark:bg-ocean-800 rounded-lg py-8 lg:py-16",children:[(0,v.jsx)("div",{className:"hidden lg:block w-full lg:w-1/2 pl-16 pr-8",children:(0,v.jsx)(B,{})}),(0,v.jsxs)("form",{className:"w-full lg:w-1/2 px-4 lg:pr-16 lg:pl-8",onSubmit:l(e.handleUsernameFormSubmit),children:[(0,v.jsx)("h1",{className:"text-bone-900 dark:text-bone-200 text-2xl lg:text-3xl font-600 leading-tight pb-4",children:i("loginToLcs")}),e.errors.non_field_errors&&!d&&(0,v.jsx)(x.ww.div,{className:"text-cherry-700 dark:text-white rounded-lg bg-cherry-300 dark:bg-cherry-700 px-4 text-md font-400 py-2 border-l-4 border-cherry mb-2",variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,transition:{duration:.2},y:0}},children:e.errors.non_field_errors[0].message}),(0,v.jsxs)("div",{className:"py-4",children:[(0,v.jsx)("div",{className:"text-sm font-600 text-bone-600 dark:text-bone-500",children:"Email"}),(0,v.jsx)("div",{className:"pt-1",children:(0,v.jsx)("input",E(E({className:c.username?"form-input w-full border-cherry":"form-input w-full",id:"username"},s("username",{required:i("emailBlankError"),maxLength:{value:254,message:i("emailTooLongError")},pattern:{value:/.+@\w+.\w+/,message:i("emailInvalidError")}})),{},{autoFocus:!0,type:"email",placeholder:"you@email.com",required:!0,defaultValue:""}))}),c.username&&(0,v.jsx)("div",{className:"text-cherry text-sm lg:text-md font-400 mt-2",children:null===(n=c.username)||void 0===n?void 0:n.message}),e.errors.username&&(0,v.jsx)("div",{className:"text-cherry text-sm lg:text-md font-400 mt-2",children:e.errors.username[0].message})]}),(0,v.jsxs)(x.ww.button,{disabled:e.loading,type:"submit",className:u,variants:C,initial:"hidden",animate:"visible",children:[e.loading&&(0,v.jsx)("i",{className:"lcs-icon icon-spin4 animate-spin mr-0 text-xl",children:""})," ",e.buttonLabel]})]})]})})};D.defaultProps={buttonLabel:"Start now"};var L=r(43405),A=r.n(L);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var q={visible:{opacity:1,transition:{delay:.2},y:0},hidden:{opacity:0,y:50}},F=function(e){var t,r,n,i=(0,o.Z)("unauth-common").t,a=(0,S.cI)(),s=a.register,l=a.handleSubmit,c=a.formState.errors,u=O()({"btn btn-blue text-lg font-700 py-2 px-10 mt-4 w-full":!0,"opacity-50 cursor-not-allowed":e.loading}),d="app_auth_required"==e.errors.code,p="login_code_required"==e.errors.code,h="new_location_detected"==e.errors.code;return(0,v.jsx)("div",{className:"flex justify-between h-full items-start px-4 bg-backgrounds-200 dark:bg-ocean-900 md:px-8 pt-4 md:pt-20",children:(0,v.jsxs)("div",{className:"flex items-start container max-w-screen-lg mx-auto bg-white dark:bg-ocean-800 rounded-lg py-8 lg:py-16",children:[(0,v.jsx)("div",{className:"hidden lg:block w-full lg:w-1/2 pl-16 pr-8",children:(0,v.jsx)(y.default,{})}),(0,v.jsxs)("form",{className:"w-full lg:w-1/2 px-4 lg:pr-16 lg:pl-8",onSubmit:l(e.handlePasswordFormSubmit),children:[(0,v.jsx)("h1",{className:"text-bone-900 dark:text-bone-200 text-2xl lg:text-3xl font-600 leading-tight pb-4",children:i("loginToLcs")}),e.errors.non_field_errors&&!d&&!p&&(0,v.jsx)(x.ww.div,{className:"text-cherry-700 dark:text-white rounded-lg bg-cherry-300 dark:bg-cherry-700 px-4 text-md font-600 py-2 border-l-4 border-cherry mb-2",variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,transition:{delay:.1},y:0}},children:e.errors.non_field_errors[0].message}),h&&(0,v.jsx)(x.ww.div,{className:"text-cherry-700 dark:text-white rounded-lg bg-cherry-300 dark:bg-cherry-700 px-4 text-md font-600 py-2 border-l-4 border-cherry mb-2",variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,transition:{delay:.1},y:0}},children:i("newLocationError")}),d&&(0,v.jsx)(x.ww.div,{className:"text-forest-700 dark:text-white rounded-lg bg-forest-300 dark:bg-forest-700 px-4 text-md font-600 py-2 border-l-4 border-forest mb-2",variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,transition:{delay:.1},y:0}},children:i("pleaseEnter6DigitOtp")}),p&&(0,v.jsx)(x.ww.div,{className:"text-forest-700 dark:text-white rounded-lg bg-forest-300 dark:bg-forest-700 px-4 text-md font-600 py-2 border-l-4 border-forest mb-2",variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,transition:{delay:.1},y:0}},children:i("pleaseEnter8DigitOtp")}),(0,v.jsxs)(x.ww.div,{variants:q,initial:"hidden",animate:"visible",className:"py-4",children:[(0,v.jsxs)("div",{className:"text-sm font-600 text-bone-600 dark:text-bone-500",children:["Email"," ",(0,v.jsx)("a",{type:"button",className:"inline-block float-right text-azureblue dark:text-cyan hover:no-underline underline cursor-pointer",onClick:function(){return e.setLoginStep("username")},children:"Edit"})]}),(0,v.jsx)("div",{className:"pt-1",children:(0,v.jsx)("input",{className:"form-input w-full disabled",disabled:!0,id:"username",name:"username",spellCheck:"false",autoCorrect:"off",type:"email",placeholder:"",required:!0,defaultValue:e.username})}),(0,v.jsx)("div",{className:"text-sm font-600 text-bone-600 dark:text-bone-500 mt-4",children:"Password"}),(0,v.jsx)("div",{className:"pt-1",children:(0,v.jsx)("input",I(I({className:c.password?"form-input w-full border-cherry":"form-input w-full",id:"password"},s("password",{required:i("pleaseEnterYourSecurePassword")})),{},{spellCheck:"false",autoCorrect:"off",autoFocus:!0,type:"password",placeholder:"",required:!0,defaultValue:""}))}),c.password&&(0,v.jsx)("div",{className:"text-cherry text-sm lg:text-md font-400 mt-2",children:null===(t=c.password)||void 0===t?void 0:t.message}),e.errors.password&&(0,v.jsx)("div",{className:"text-cherry text-sm lg:text-md font-400 mt-2",children:e.errors.password[0].message}),d&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"text-sm font-600 text-bone-600 dark:text-bone-500 mt-4",children:i("sixDigitOtp")}),(0,v.jsx)("div",{className:"pt-1",children:(0,v.jsx)("input",I(I({className:c.otp?"form-input w-full border-cherry":"form-input w-full",id:"otp"},s("otp",{required:i("pleaseEnter6DigitOtp"),validate:function(e){return A().isNumeric(e)?6===e.length||i("pleaseEnterExactly6DigitsOtp"):i("allCharactersShouldBeDigits")}})),{},{spellCheck:"false",autoCorrect:"off",autoComplete:"off",autoFocus:!0,type:"text",placeholder:"",required:!0,defaultValue:""}))}),c.otp&&(0,v.jsx)("div",{className:"text-cherry text-sm lg:text-md font-400 mt-2",children:null===(r=c.otp)||void 0===r?void 0:r.message}),e.errors.otp&&(0,v.jsx)("div",{className:"text-cherry text-sm lg:text-md font-400 mt-2",children:e.errors.otp[0].message})]}),p&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"text-sm font-600 text-bone-600 dark:text-bone-500 mt-4",children:i("eightDigitCode")}),(0,v.jsx)("div",{className:"pt-2",children:(0,v.jsx)("input",I(I({className:c.otp?"form-input w-full border-cherry":"form-input w-full",id:"loginCode"},s("loginCode",{required:i("pleaseEnter8DigitOtp"),validate:function(e){return A().isNumeric(e)?8===e.length||i("pleaseEnterExactly8DigitsOtp"):i("allCharactersShouldBeDigits")}})),{},{spellCheck:"false",autoCorrect:"off",autoFocus:!0,type:"text",placeholder:"",required:!0,defaultValue:""}))}),c.loginCode&&(0,v.jsx)("div",{className:"text-cherry text-sm lg:text-md font-400 mt-2",children:null===(n=c.loginCode)||void 0===n?void 0:n.message}),e.errors.login_code&&(0,v.jsx)("div",{className:"text-cherry text-sm lg:text-md font-400 mt-2",children:e.errors.login_code[0].message})]})]}),(0,v.jsxs)(x.ww.button,{disabled:e.loading,type:"submit",className:u,children:[e.loading&&(0,v.jsx)("i",{className:"lcs-icon icon-spin4 animate-spin mr-0 text-xl",children:""})," ",e.buttonLabel]})]})]})})};F.defaultProps={buttonLabel:"Start now"};var Z=function(e){if(!e)return"";if(e.length<=3)return"/"===e[0]?e:"";var t=e;"/"===e[0]&&"/"===e[3]&&(t=e.slice(3));for(var r=["/","/my-wallet","/trade","/referral","/new-offer","/preferences","/dashboard","/lcs"],n=0;n<r.length;n+=1)if(t.startsWith(r[n]))return e;return""};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var V=function(e){var t,r,n=(0,i.useRouter)(),o=(0,a.a)().authLogin,c=(0,b.q)().initCommonWebsocket,x=d.useState("username"),y=(0,l.Z)(x,2),w=y[0],k=y[1],O=void 0,N=void 0,P=d.useState({nonCustodial:!1,username:"",response:{},loading:!1,errors:{}}),S=(0,l.Z)(P,2),_=S[0],E=S[1],B=(0,g.Z)(),C=function(){B.track("Submit Username")},L=function(){B.track("Submit Password")},A=function(){B.track("Login Successful")},T=(t=(0,s.Z)(u().mark(function e(t){var r,n;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!=_.loading){e.next=3;break}return e.abrupt("return");case 3:return E(function(e){return M(M({},e),{},{loading:!0,errors:{}})}),e.next=7,(0,f.sP)("/api/user-nc-status/",t);case 7:if(r=e.sent,C(),!r.ok){e.next=16;break}return e.next=12,r.json();case 12:e.sent.non_custodial?(E(function(e){return M(M({},e),{},{loading:!1,nonCustodial:!0,username:t.username})}),k("password")):(E(function(e){return M(M({},e),{},{loading:!1,nonCustodial:!1,username:t.username})}),k("password")),e.next=20;break;case 16:return e.next=18,r.json();case 18:n=e.sent,E(function(e){return M(M({},e),{},{errors:n})});case 20:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),I=(r=(0,s.Z)(u().mark(function e(t){var r,n,o,i,a,s,l;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!=_.loading){e.next=3;break}return e.abrupt("return");case 3:return E(function(e){return M(M({},e),{},{loading:!0,errors:{}})}),r=t.password,n=(0,h.Wi)(r),o=(0,p.generateEncryptedAccountKey)(r),N={password:r},O={token:t.token,username:_.username,login_nc:!0,password_hex:n,salt:o.salt,iterations:o.iterations,initialization_vector:o.initializationVector,encrypted_account_key:o.encryptedAccountKey,public_identity_key:o.publicIdentityKey,encrypted_mnemonic:o.encryptedMnemonic,encrypted_mnemonic_iv:o.encryptedMnemonicIv},t.otp&&(O.otp=t.otp),t.loginCode&&(O.login_code=t.loginCode),!1===_.nonCustodial&&(O.password=r),e.next=15,(0,f.sP)("/api/rest-auth/login/",O);case 15:if(i=e.sent,L(),!i.ok){e.next=33;break}return e.next=20,i.json();case 20:if(!(a=e.sent).error){e.next=25;break}E(function(e){return M(M({},e),{},{errors:a})}),e.next=31;break;case 25:if(!a.encrypted_account_key){e.next=31;break}return k("logginLoader"),s=function(e){return new Promise(function(t){return setTimeout(t,e)})},e.next=30,s(2e3);case 30:q(a,N.password);case 31:e.next=37;break;case 33:return e.next=35,i.json();case 35:l=e.sent,E(function(e){return M(M({},e),{},{errors:l})});case 37:E(function(e){return M(M({},e),{},{loading:!1})});case 38:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),q=function(t,r){var i=(0,m.e)(t,r);if(A(),i){o(t.token),c();var a=Z(e.next);a?n.push(a):n.push("/")}},H=_.username,V=_.loading,K=_.errors;return"logginLoader"==w?(0,v.jsx)(j,{}):"password"==w?(0,v.jsx)(F,{username:H,buttonLabel:"Login",loading:V,errors:K,setLoginStep:k,handlePasswordFormSubmit:I}):"username"==w?(0,v.jsx)(D,{buttonLabel:"Login",loading:V,errors:K,handleUsernameFormSubmit:T}):(0,v.jsx)("div",{})},K=r(38741),U=r(11406);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var W=!0,R=function(){var e=(0,i.useRouter)().query.next,t=(0,a.a)().authData,r=(0,o.Z)("unauth-common").t,s={title:r("loginToLcs"),description:r("loginToAccess")};return!0==t.loading?null:(0,v.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,v.jsx)(K.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},s)),(0,v.jsx)(U.Z,{showLogin:!1}),(0,v.jsx)(V,{next:null==e?void 0:e.toString()})]})}},83236:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(86383)}])}},function(e){e.O(0,[3430,845,3714,7417,8388,3487,5573,6103,1684,4810,8650,8596,2652,9542,3608,8869,1509,9722,3405,8890,9774,2888,179],function(){return e(e.s=83236)}),_N_E=e.O()}]);